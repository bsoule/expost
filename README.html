
<html> <head> <title>ExPost: Render HTML from Etherpads and Use Etherpad Instead of the Wordpress Editor</title><link rel="stylesheet" href="expost.css" type="text/css"/></head> <body> 
<h1>ExPost: Render HTML from Etherpads and Use Etherpad Instead of the Wordpress Editor</h1> 
<p><em>Dogfoodaliciousness: This page is rendered live from <a href="http://padm.us/expost">http://padm.us/expost</a>.</em></p> 
 
<h2>Critical TODOs for Beemblog</h2> 
 
<ol> 
<li>&#8220;Preview Changes&#8221; doesn&#8217;t show a preview of latest etherpad content.</li> 
<li>I haven&#8217;t tested what happens if you schedule a post for future publication.</li> 
</ol> 
 
<h2>Needed for releasing the plugin to others</h2> 
 
<ol> 
<li>add plugin settings to set source and possibly blog slug as well (e.g. in our case: padm.us, and beemblog-), or just ask user for both, or full url, or whatever.</li> 
<li>Do want to expost-ify pages as well?</li> 
<li>no conflicts for Markdown.php library &#8212; do we want to do our own markdown as well?</li> 
<li>How&#8217;s this work if you have a different permalink structure from what we use?</li> 
<li>Add README, install.txt, and how-to/FAQ thingy
X. Allow old posts to stay in the wordpress editor. (This should be fine now.)</li> 
</ol> 
 
<h2>Magic that Expost Performs</h2> 
 
<ul> 
<li><a href="http://michelf.com/projects/php-markdown/extra/">Markdown with Extras</a>.</li> 
<li><a href="http://michelf.com/projects/php-smartypants/">SmartyPants</a> replacement of ascii quotes with curly quotes and whatnot.</li> 
<li>LaTeX-style numbering without numbers, like label/ref. <a id="details" href="#details1">[1]</a></li> 
</ul> 
 
<hr /> 
 
<h2>Nitty-Gritty Details of the LaTeX-Style Numbering</h2> 
 
<p>Expost replaces each occurrence of $ REF[foo] (without the space after the dollar sign; that&#8217;s just there for the obvious meta reason) with a unique number, starting with 1 for the first $REF occurrence and counting up sequentially with each new tag.
The tags are case sensitive.</p> 
 
<p>As a shortcut, if a tag foo has been defined anywhere in the source with $ REF[foo] then all other instances can be abbreviated to just $foo.
If $foo occurs where foo is <em>not</em> a tag defined anywhere with $REF then it will not be translated, <em>nor will any</em> subsequent $-prefixed tags on the same line, defined with $REF or not.</p> 
 
<h3>Special $FN Syntax for Footnotes</h3> 
 
<p>$ FN[foo] works the same as $ REF[foo] except instead of getting replaced with just a number, N, it gets replaced with one of the following:</p> 
 
<pre><code>&lt;a id="foo1" href="#foo"&gt;[N]&lt;/a&gt;
&lt;a id="foo" href="#foo1"&gt;[N]&lt;/a&gt;
</code></pre> 
 
<p>The first occurrence is replaced with the first version and the second with the second, assuming only two occurrences, per usual for footnotes.
In other words, both occurences of the tag get replaced with a number in brackets and they hyperlink to each other &#8212; one being in the body and the other being at the bottom where the actual footnote content is. <a id="more1" href="#more">[2]</a></p> 
 
<hr /> 
 
<h2>Footnotes</h2> 
 
<p><font size="-1"></p> 
 
<p><a id="more" href="#more1">[2]</a> What happens in the case of more than two occurrences of a footnote?
One answer is, just don&#8217;t do that.
But for completeness&#8217; sake, the real answer is: the natural generalization where all but the last occurrence links to the last occurrence and the last occurrence links to the first.
Specifically, each occurrence gets replaced with one of the following:</p> 
 
<pre><code>&lt;a id="fooX" href="#foo"&gt;[N]&lt;/a&gt;
&lt;a id="foo" href="#foo1"&gt;[N]&lt;/a&gt;
</code></pre> 
 
<p>where X is defined such that $ FN[foo] is the Xth occurrence of $ FN[foo].
All but the last occurrence of $ FN[foo] get replaced with the first version and the last occurrence (taken to be the place where the actual footnote content is given) is replaced with the second version.
Note that $FN tags and $REF tags get numbered independently but you shouldn&#8217;t use the same tag foo for both a $FN and a $REF. Various screwiness will happen if you do.
Using &#8220;FOO&#8221; for one and &#8220;foo&#8221; for the other is fine though, since tags are case sensitive.
</font></p> 
 
</body> </html>
